# 로또 패턴 분석 도구

이 도구는 로또 당첨 번호 데이터를 분석하여 패턴을 찾고 시각화하는 기능을 제공합니다.

## 설치 및 실행 방법

1. 필요한 패키지 설치:
   ```
   pip install -r requirements.txt
   ```

2. 구글 API 인증 파일 설정:
   - `loto2025-4f3fea37499a.json` 파일을 프로젝트 디렉토리에 위치시킵니다.
   - 자세한 설정 방법은 `google_api_setup.md` 파일을 참조하세요.

3. 데이터 수집:
   ```
   python lotto_crawler.py
   ```

4. 패턴 분석:
   ```
   python create_1ho_pattern.py  # 1호기 패턴 분석
   python create_2ho_pattern.py  # 2호기 패턴 분석
   python create_3ho_pattern.py  # 3호기 패턴 분석
   ```

5. 패턴 확인:
   ```
   python check_pattern_sheet.py 1호기  # 1호기 패턴 시트 확인
   python check_pattern_sheet.py 2호기  # 2호기 패턴 시트 확인
   python check_pattern_sheet.py 3호기  # 3호기 패턴 시트 확인
   python check_pattern_sheet.py 1호기1개일치  # 1호기 1개 일치 패턴 시트 확인
   ```

## 주요 기능

### 1. 로또 데이터 수집 (`lotto_crawler.py`)
- 로또 공식 웹사이트에서 당첨 번호 데이터 수집
- 구글 스프레드시트에 데이터 저장

### 2. 호기별 패턴 분석
- `create_1ho_pattern.py`: 1호기 당첨 데이터 패턴 분석
- `create_2ho_pattern.py`: 2호기 당첨 데이터 패턴 분석
- `create_3ho_pattern.py`: 3호기 당첨 데이터 패턴 분석

### 3. 1개 일치 패턴 분석 (신규 기능)
- 최근 30개의 1개 일치 패턴을 분석
- 다음 회차에 2회 이상 나온 번호 패턴 분석
- 구간별 분석 (1-10, 11-20, 21-30, 31-40, 41-45)
- 연속 번호 패턴 분석
- 홀짝 패턴 분석
- 번호 합계 범위 분석
- 패턴 기반 추천 번호 생성

### 4. 패턴 시트 확인
- `check_pattern_sheet.py`: 생성된 패턴 시트 확인 및 검증

## 데이터 구조

### 일반 패턴 시트 (1호기패턴, 2호기패턴, 3호기패턴)
1. 최신 회차 정보
2. 다음 회차 번호 분석
   - 각 일치 패턴별 다음 회차에 나온 번호 빈도 분석
   - 각 일치 패턴별 다음 회차 숫자합 분포 분석
3. 5개 일치 패턴 정보
4. 4개 일치 패턴 정보
5. 3개 일치 패턴 정보
6. 2개 일치 패턴 정보
7. 1개 일치 패턴 정보

### 1개 일치 패턴 분석 시트 (1호기1개일치패턴, 2호기1개일치패턴, 3호기1개일치패턴)
1. 분석 결과 요약
2. 다음 회차에 2회 이상 나온 번호
3. 구간별 분석
4. 추가 인사이트
   - 일치번호 구간별 다음 회차 패턴
   - 연속 번호 패턴
   - 홀짝 패턴
   - 번호 합계 분석
5. 추천 번호

## 실행 결과 예시

### 1개 일치 패턴 분석 결과
```
===== 1개 일치 패턴 분석 결과 =====

최근 30개 1개 일치 패턴 분석
전체 데이터 기간: 86개 패턴

■ 다음 회차에 2회 이상 나온 번호:
  35번: 9회 (30.0%)
  30번: 8회 (26.7%)
  21번: 7회 (23.3%)
  ...

■ 구간별 분석:
  21-30: 12회 (28.6%)
  31-40: 11회 (26.2%)
  ...

■ 추가 인사이트:
  • 일치번호가 11-20 구간일 때, 다음 회차에는 21-30 구간이 많이 나타남 (7회, 35.0%)
  • 연속 패턴: 23-24 (3회)
  • 홀짝 패턴: 홀→짝이 가장 많이 나타남 (18회, 60.0%)
  • 번호 합: 121-140 구간이 가장 많이 나타남 (12회, 40.0%)

■ 1개 일치 패턴 기반 추천 번호:
  15, 21, 26, 30, 35, 38 (합계: 165)
```

## 주의사항

- 구글 API 할당량 제한으로 인해 스크립트 실행 시 충분한 시간 간격을 두고 실행하세요.
- 데이터 분석 결과는 참고용이며, 실제 당첨을 보장하지 않습니다.

## 업데이트 내역

- 2025-04-04: 다음 회차 번호 분석 기능 추가
- 2025-04-04: 1개 일치 패턴 분석 기능 추가
- 2025-04-03: 배치 처리 방식 개선으로 API 할당량 문제 해결
- 2025-04-02: 일치숫자 컬럼 제거로 데이터 표현 간소화
- 2025-04-01: 초기 버전 배포